%\chapter{Background}
%\section{Preliminaries}
%This section briefly introduces some concepts which will be used throughout this dissertation.
%
%\begin{definition}
%	Let $(X, d_X)$ and $(Y, d_Y)$ be metric spaces. A function $f : X \to Y$ is a \key{Lipschitz function} if there exists a constant $K > 0$ such that
%	\[
%		d_Y(f(x), f(y)) \leq Kd_X(x, y)
%	\]
%	for all $x, y \in X$. We say that $f$ is a Lipschitz function with \key{Lipschitz constant} $K$.~\cite[p154]{searcoid:metric-spaces}
%%	
%%	More generally, we say that $f$ is \key{H\"older continuous} if there exists some constants $K > 0$ and $\alpha \in (0, 1]$ such that
%%	\[
%%	d_Y(f(x), f(y)) \leq K(d_X(x, y))^\alpha
%%	\]
%%	for all $x, y \in X$. In this case, we say that $f$ is H\"older continuous with \key{H\"older exponent} $\alpha$ and \key{H\"older constant} $K$.~\cite[p143]{brin-stuck:dynsys}
%\end{definition}
%
%\begin{definition}
%	A transformation $T : (X_1, \B_1, \mu_1) \to (X_2, \B_2, \mu_2)$ is \key{measure-preserving} if:
%	\begin{enumerate}
%		\item $T$ is measurable, i.e. if $B_2 \in \B_2$, then $T^{-1}{B_2} \in \B_1$, and
%		\item $\mu_1(T^{-1}{B_2}) = \mu_2(B_2)$ for all $B_2 \in \B_2$.
%	\end{enumerate}
%	This agrees with our usual definition when $X_1 = X_2$.
%\end{definition}
%
%\begin{definition}
%	Let $X$ be a compact metric space with Borel $\sigma$-algebra $\B$. We let $M(X)$ denote the set of all probability measures on $(X, \B)$.
%	
%	Let $T : X \to X$ be a continuous mapping on $X$. We let $M(X, T)$ denote the set of $T$-invariant probability measures on $(X, B)$.
%\end{definition}
%
%\begin{definition}
%	The \key{symmetric difference} of two sets $A, B$ is defined $(A \setminus B) \cup (B \setminus A)$. We will write this as
%	\begin{equation*}
%		A \symdiff B := (A \setminus B) \cup (B \setminus A).
%	\end{equation*}
%\end{definition}

\chapter{Shifts of finite type}
\section{The basics}
Let $A$ be a $k \times k$ matrix with entries in $\{0, 1\}$. A \key{(two-sided) shift of finite type} $\Sigma_A$ is defined by
\[
	\Sigma_A := \{(x_j)_{j = -\infty}^\infty \mid A_{x_j, x_{j + 1}} = 1,\ j \in \integers\}.
\]
Similarly, a \key{(one-sided) shift of finite type} $\Sigma_A^+$ is defined by
\[
	\Sigma_A^+ := \{(x_j)_{j = 0}^\infty \mid A_{x_j, x_{j + 1}} = 1,\ j \in \naturals_0\}.
\]

Let $x = (x_j)_{j = -\infty}^\infty \in \Sigma_A$. We define the \key{(two-sided, left) shift map} $\sigma : \Sigma_A \to \Sigma_A$ by
\[
	(\sigma(x))_j = x_{j + 1}.
\]
which shifts each coordinate of $x$ one position to the left.

Now let $x = (x_j)_{j = 0}^\infty \in \Sigma_A^+$. We similarly define the \key{(one-sided, left) shift map} $\sigma^+ : \Sigma_A^+ \to \Sigma_A^+$ by
\[
	(\sigma^+(x))_j = x_{j + 1}.
\]
As with the one-sided case, this shifts the coordinates of $x$ one position to the left but also deletes the first coordinate $x_0$. It is clear that $\sigma^+$ is not invertible, whereas $\sigma$ is invertible.

To avoid excessive use of subscripts and superscripts, we will often write $\sigma$ for both the one-sided and two-sided shift maps. It should be clear from the context which of these maps $\sigma$ denotes.

If $x = (x_j)_{j = -\infty}^\infty \in \Sigma_A$, then we call $(x_j)_{j = -\infty}^0$ the \key{past}, $x_0$ the \key{present}, and $(x_j)_{j = 0}^\infty$ the \key{future}.

\subsection{Irreducibility, aperiodicity and cylinders}
Let $A$ be a $k \times k$ matrix with entries in $\{0, 1\}$, and let $\Sigma_A$ (or $\Sigma_A^+$) be the associated shift of finite type. We may consider $A$ to be the adjacency matrix of a directed graph $G_A$ with $k$ vertices.

We say that $A$ is \key{irreducible} if, for each $i, j \in \{1, \dots, k\}$, there exists $n = n(i, j) > 0$ such that $(A^n)_{i, j} > 0$. Alternatively, $A$ is irreducible if there exists an edge-path between any two vertices in the corresponding graph $G_A$. In this case, we say that the shift of finite type $\Sigma_A$ (or $\Sigma_A^+$) is irreducible.

If there exists $n > 0$ such that $(A^n)_{i, j} > 0$ for all $i, j \in \{1, \dots, k\}$, then we say that $A$ is \key{aperiodic}. That is, $A$ is aperiodic if all edge-paths between any two vertices in $G_A$ can be chosen to be of the same length. As before, this means that $\Sigma_A$ (or $\Sigma_A^+$) is aperiodic.

A \key{cylinder} $C$ on $\Sigma_A$ is defined
\[
	C = [y_{-m}, \dots, y_{-1}, y_0, y_1, \dots, y_n]_{-m, n} := \{(x_j)_{j = -\infty}^\infty \in \Sigma \mid x_j = y_j \text{ for } -m \leq j \leq n\}.
\]
Similarly, a cylinder $C^+$ on $\Sigma_A^+$ is given by
\[
	C^+ = [y_0, y_1, \dots, y_{n - 1}, y_n]_{0, n} := \{(x_j)_{j = 0}^\infty \in \Sigma \mid x_j = y_j \text{ for } 0 \leq j \leq n\}.
\]
In other words, a cylinder is the set of all sequences which agree in the given positions.

\section{Function spaces for shifts of finite type}
\emph{This section predominantly follows \cite[Chapter 1]{parry-pollicott:zeta-fns-periodic-orbits}.}

Let $\Sigma_A$ and $\Sigma_A^+$ be two-sided and one-sided shifts of finite type, respectively, and let $\theta \in (0, 1)$ be fixed.

\subsection{Metrics for shifts of finite type}
Let $x = (x_j)_{j = -\infty}^\infty, y = (y_j)_{j = -\infty}^\infty \in \Sigma_A$. We define $n = n(x, y) \geq 0$ to be the largest integer such that $x_j = y_j$ for all $|j| < n$, but $x_n \neq y_n$ or $x_{-n} \neq y_{-n}$. If $x_j = y_j$ for all $j \in \integers$ then we define $n = +\infty$.

We define the map $d_\theta : \Sigma_A \times \Sigma_A \to \reals^+$ by
\[
	d_\theta(x, y) =
	\begin{cases}
		\theta^n, & \text{if } x \neq y; \\
		0, & \text{if } x = y.
	\end{cases}
\]
It can be shown that $d_\theta$ is a \key{metric} on $\Sigma_A$, so sequences in $\Sigma_A$ are `close' if they agree for a large number of leading coordinates.

Similarly, if $x = (x_j)_{j = 0}^\infty, y = (y_j)_{j = 0}^\infty \in \Sigma_A^+$, then $n = n(x, y) \geq 0$ is defined to be the largest integer such that $x_j = y_j$ for all $0 \leq j < n$ but $x_n \neq y_n$. We define the map $d_\theta : \Sigma_A^+ \times \Sigma_A^+ \to \reals^+$ in the same way as the two-sided case, and it can be shown that this also defines a metric on $\Sigma_A^+$.

\subsection{The space of Lipschitz functions}
\begin{definition}
	Let $f : \Sigma_A \to \complex$ be a continuous function and let $n \geq 0$. We define the \key{$n$-th variation of $f$} by
	\[
		\var_n(f) = \sup\{|f(x) - f(y)| \mid x, y \in \Sigma_A,\ x_j = y_j \text{ for } |j| < n\}.
	\]
	
	Similarly, if $g : \Sigma_A^+ \to \complex$ is a continuous function, then the \key{$n$-th variation of $g$} is given by
	\[
	\var_n(g) = \sup\{|g(x) - g(y)| \mid x, y \in \Sigma_A^+,\ x_j = y_j \text{ for } 0 \leq j < n\}.
	\]
	That is, $\var_n(g)$ indicates how much $g$ varies on cylinders of length $n$.~\cite[Lecture 8]{magic-ergodic}
\end{definition}

It is easy to see that $\var_n(f) \leq K\theta^n$ for all $n \geq 0$ if and only if $|f(x) - f(y)| \leq Kd_\theta(x, y)$, i.e. $f$ is a Lipschitz function. This allows the following definition to be given in terms of $n$-th variations of continuous functions.

\begin{definition}
	Define
	\[
		F_\theta = F_\theta(\Sigma_A) = \{f \in C(\Sigma_A, \complex) \mid \var_n(f) \leq K\theta^n \text{ for all } n \geq 0, \text{ for some } K > 0\}
	\]
	to be the space of Lipschitz functions with respect to the metric $d_\theta$.
	
	We define $F_\theta^+ = F_\theta^+(\Sigma_A^+)$ in the same way, replacing $\Sigma_A$ with $\Sigma_A^+$.
\end{definition}

\begin{definition}
	Let $f \in F_\theta$ (or $F_\theta^+)$. Define
	\[
		|f|_\theta = \sup_{n \geq 0}\left\{\frac{\var_n(f)}{\theta^n}\right\}
	\]
	to be the \key{least Lipschitz constant} of $f$. In other words, $|f|_\theta$ is the smallest $K > 0$ such that $\var_n(f) \leq K\theta^n$ for all $n \geq 0$.
	
	We can then define a \key{norm} on $F_\theta$ (or $F_\theta^+$) by
	\[
		\|f\|_\theta = |f|_\infty+ |f|_\theta,
	\]
	where $|f|_\infty = \sup_{x \in \Sigma}\{|f(x)|\}$.
\end{definition}

\begin{proposition}
	The spaces $(F_\theta, \|\cdot\|_\theta)$ and $(F_\theta^+, \|\cdot\|_\theta)$ are Banach spaces.
\end{proposition}

\begin{definition}
	Let $f, g \in F_\theta$ (or $F_\theta^+$). We say $f$ and $g$ are \key{cohomologous} if there exists a continuous function $h$ such that $f = g + h \circ \sigma - h$. In this case, we write $f \sim g$. (It is clear that $\sim$ is an equivalence relation.)
	
	If $f$ is cohomologous to $0$, then we say $f$ is a \key{coboundary}.
\end{definition}

\begin{proposition} \label{prop:pp-1-2}
	Suppose that $f \in F_\theta$. Then there exists $g, h \in F_{\theta^{1 / 2}}$ such that $f = g + h - h \circ \sigma$, where $g(x) = g(y)$ if $x_j = y_j$ for all $j \geq 0$. In other words, the value of $g(x)$ is determined only by the future coordinates of $x$.
	\begin{proof}
		For each $j = 1, \dots, k$ we choose a sequence $(a_n^{(j)})_{n = -\infty}^0$ from the past such that $a_0^{(j)} = j$. Now we define a function $\phi : \Sigma_A \to \Sigma_A : x \mapsto x'$, where
		\[
			(x')_n =
			\begin{cases}
				x_n, & \text{if } n \geq 0; \\
				a_n^{(x_0)}, & \text{if } n \leq 0.
			\end{cases}
		\]
		So $\phi$ fixes the future coordinates of $x$, but replaces the past with $(a_n^{(x_0)})_{n = -\infty}^0$.
		
		Let $h(x) := \sum_{n = 0}^\infty{(f(\sigma^n{x}) - f(\sigma^n \phi{x}))}$. Note that $h$ converges because for all $n \geq 0$,
		\[
			|f(\sigma^n{x}) - f(\sigma^n \phi{x})| \leq \var_n(f) \leq |f|_\theta \theta^n \to 0,
		\]
		as $n \to +\infty$. We have
		\begin{align*}
			h(x) - h(\sigma{x}) &= \sum_{n = 0}^\infty{\left(f(\sigma^n{x}) - f(\sigma^n \phi{x})\right)} - \sum_{n = 0}^\infty{\left(f(\sigma^{n + 1}{x}) - f(\sigma^n \phi \sigma{x})\right)} \\
				&= f(x) - \left(f(\phi{x}) + \sum_{n = 0}^\infty{(f(\sigma^{n + 1} \phi{x}) - f(\sigma^n \phi \sigma{x}))}\right) \\
				&= f(x) - g(x),
		\end{align*}
		where $g(x) := f(\phi{x}) + \sum_{n = 0}^\infty{\left(f(\sigma^{n + 1} \phi{x}) - f(\sigma^n \phi \sigma{x})\right)}$. Since all terms in $g$ contain $\phi$, we see that $g$ depends only on its future coordinates.
		
		It remains to show that $h \in F_{\theta^{1 / 2}}$ and we will immediately have $g \in F_{\theta^{1 / 2}}$. It is sufficient to show that $\var_{2N}(h) \leq K\theta^N$ for all $N \geq 0$, for some constant $K > 0$, because this gives that
		\[
			\var_{2N + 1}(h) \leq K\theta^N = \frac{K}{\theta^{1 / 2}}(\theta^{1 / 2})^{2N + 1}.
		\]
		
		Let $x, y \in \Sigma_A$ be such that $x_j = y_j$ for $|j| \leq 2N$. Then for all $n = 0, \dots, N$, we have
		\[
			|f(\sigma^n{x}) - f(\sigma^n{y})| \leq |f|_\theta \theta^{2N - n} \quad \text{and} \quad |f(\sigma^n \phi{x}) - f(\sigma^n \phi{y})| \leq |f|_\theta \theta^{2N - n}.
		\]
		By definition, for all $n \geq 0$ we have
		\[
			|f(\sigma^n{x}) - f(\sigma^n \phi{x})| \leq |f|_\theta \theta^n \quad \text{and} \quad |f(\sigma^n {y}) - f(\sigma^n \phi{y})| \leq |f|_\theta \theta^n.
		\]
		Hence
		\begin{align*}
			|h(x) - h(y)| &= \left|\sum_{n = 0}^\infty{\left(f(\sigma^n{x}) - f(\sigma^n \phi{x}) - f(\sigma^n{y}) + f(\sigma^n \phi{y})\right)}\right| \\
				&\leq \sum_{n = 0}^N{|f(\sigma^n{x}) - f(\sigma^n{y})| + | f(\sigma^n \phi{x}) -  f(\sigma^n \phi{y})|} \\
				&\quad + \sum_{n = N + 1}^\infty{|f(\sigma^n{x}) - f(\sigma^n \phi{x})| + | f(\sigma^n \phi{y}) -  f(\sigma^n {y})|} \\
				&\leq 2|f|_\theta \sum_{n = 0}^N{\theta^{2N - n}} + 2|f|_\theta \sum_{n = N + 1}^\infty{\theta^n} \\
				&= 2|f|_\theta \theta^{2N} \left(\frac{\theta^{-N - 1} - 1}{\theta^{-1} - 1}\right) + |f|_\theta \frac{\theta^{N + 1}}{1 - \theta} \\
				&\leq 4|f|_\theta \frac{\theta^N}{1 - \theta}.
		\end{align*}
		Therefore
		\[
			\var_{2N}(h) \leq \left(\frac{4|f|_\theta}{1 - \theta}\right)\theta^N
		\]
		and so $h \in F_{\theta^{1 / 2}}$.
	\end{proof}
\end{proposition}

The above result allows us to write $f \in F_\theta$ using $g \in F_{\theta^{1 / 2}}^+$. We can then apply results to $g$ which hold for $F_\theta^+$ but not necessarily for $F_\theta$. We will encounter such uses for this proposition in due course.
